//Define the version variables to be used across the entire project
buildscript {

    apply from: "gradle/versions.gradle"

    ext {
        globalAzureFunctionGradlePlugin = versions.AzureFunctionGradlePlugin
        globalAzureFunctionsJavaLibrary = "1.4.0"
        globalSpringFrameworkVersion = "2.3.3.RELEASE"
        globalSpringDependencyManagement = "1.0.10.RELEASE"
    }

    repositories {
        google()
        jcenter()
        mavenCentral()
    }

    dependencies {
        classpath packages.GradleVersions
        //classpath packages.AndroidBuildGradle
        //classpath packages.KotlinGradle
        //classpath packages.AndroidXNavigationSafeArgsGradle
    }
}

apply from: "gradle/gradle-versions.gradle"

subprojects {

    apply from: "$rootDir/gradle/ktlint.gradle"

    repositories {
        google()
        jcenter()
        mavenCentral()
    }
}

task clean(type: Delete) {
    delete rootProject.buildDir
}

tasks.register("release") {
    group = 'build'
    description = 'Run all the steps to build all release artifact'

    // List all build targets
    dependsOn ':petproject:app:release'
    dependsOn ':petproject:webservice:release'
    dependsOn ':petproject:azurefunction:release'
    dependsOn ':auraxiscontrolcenter:release'
}