buildscript {
    repositories {
        mavenCentral()
    }

    dependencies {
        classpath 'com.mobidevelop.robovm:robovm-gradle-plugin:2.3.9'
    }
}

plugins {
    id 'java'
}

apply plugin: "robovm"


repositories {
    jcenter()
}

sourceSets.main.java.srcDirs = [ "src/" ]

sourceCompatibility = globalJavaCompatibility
[compileJava, compileTestJava]*.options*.encoding = 'UTF-8'

dependencies {
    implementation project(":doom:game:core")
    implementation "com.mobidevelop.robovm:robovm-rt:$globalRoboVMVersion"
    implementation "com.mobidevelop.robovm:robovm-cocoatouch:$globalRoboVMVersion"
    implementation "com.badlogicgames.gdx:gdx-backend-robovm:$globalGdxVersion"
    implementation "com.badlogicgames.gdx:gdx-platform:$globalGdxVersion:natives-ios"
}

ext {
    mainClassName = "com.cramsan.awsgame.IOSLauncher"
}

launchIPhoneSimulator.dependsOn build
launchIPadSimulator.dependsOn build
launchIOSDevice.dependsOn build
createIPA.dependsOn build

robovm {
    archs = "thumbv7:arm64"
}
